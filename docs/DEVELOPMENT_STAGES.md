# DEVELOPMENT_STAGES — план развития до «идеальной библиотеки» (RU)

Ниже — прагматичный план (по этапам) работ, которые ещё предстоит выполнить для выхода на уровень «идеальной библиотеки». Формат вдохновлён чек-листом DEVELOPMENT_STAGES.

Статус: Этап 1 начат (API стабилизация)

Этап 0 — Базовая стабильность (нынешнее состояние)
- [x] Перевод data layer на JSONL-хранилище
- [x] Обновление репозиториев и кэша
- [x] Переписывание тестов под новый бэкенд
- [x] Минимальная документация и примеры

Этап 1 — Стабилизация публичного API (in progress)
- [ ] Пройтись по публичным классам/методам и зафиксировать API (semver)
- [ ] Обозначить «стабильные» и «экспериментальные» части API
- [ ] Добавить подробные док-комментарии ко всем публичным API
- [ ] Подготовить public examples (example/main.dart) и обновить README (Quick start, Variant A)
- [ ] Обновить CHANGELOG на английском и стандартизировать формат

Этап 2 — Инструменты данных и валидация
- [ ] Усилить импорт (CSV/JSON/JSONL): отчёт об ошибках, пропуски, статистика
- [ ] Валидатор данных и схемы (форматы строк, допустимые пары языков)
- [ ] CLI: консистентные команды (db/import/export/validate) + примеры использования

Этап 3 — Производительность и память
- [ ] Профилирование горячих путей (поиск слов/фраз, кэширование)
- [ ] Оптимизация in-memory индексов и политики кэша (LRU/TTL/разделение по языкам)
- [ ] Бенчмарки под реальную нагрузку и регрессионные перф-тесты

Этап 4 — Документация и примеры
- [ ] Дополнить usage_en.md/usage_ru.md примерами для Flutter (path_provider, init в виджете)
- [ ] Добавить разделы «FAQ» и «Troubleshooting»
- [ ] Сформировать «Cookbook» (частые сценарии: импорт данных, тонкая настройка кэша, отладка)

Этап 5 — Качество, CI/CD
- [ ] GitHub Actions: форматирование, анализ, юнит/интеграционные тесты, кэш пакетов
- [ ] Матрица CI (Windows/macOS/Linux, stable/beta SDK)
- [ ] codecov/coverage отчёт, пороги качества

Этап 6 — Экосистема и интеграции
- [ ] Виджет(ы) для Flutter (простая интеграция движка в UI)
- [ ] Адаптеры для внешних источников данных (кастомные форматы/эндпоинты)
- [ ] Расширяемость слоёв pipeline (плагины слоёв, интроспекция, метрики)

Этап 7 — Дополнительные возможности
- [ ] Морфология/лемматизация для ряда языков
- [ ] Fuzzy-поиск, подсказки и автодополнение
- [ ] Транслитерация/нормализация ввода

Релизы и управление версиями
- [ ] Принять политику версионирования с «десятичными шагами» (например, 0.0.11)
- [ ] Чёткие release notes для каждого релиза
- [ ] Скрипт/джоб для автоматизации «tag -> publish» (при ручном подтверждении)

Критерии «идеальной библиотеки» (Definition of Done)
- Полностью документированный и стабильный публичный API
- Репозиторий с чистым CI/CD, воспроизводимые сборки и тесты зелёные
- Производительность подтверждена бенчмарками, предсказуемое потребление памяти
- Удобные инструменты работы с данными (CLI+импорт/валидация)
- Понятные примеры интеграции с Flutter и Dart CLI
- План развития и прозрачные релизы
